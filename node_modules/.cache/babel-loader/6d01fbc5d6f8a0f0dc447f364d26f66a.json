{"ast":null,"code":"// import { url, update, size, apiKey, headers } from \"./Utils.js\";\nclass NewsApi {\n  constructor(url, keyword, size, apiKey) {\n    this._url = url; // this._headers = headers;\n\n    this._keyword = keyword; // this._update = update;\n\n    this._size = size;\n    this._apiKey = apiKey;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      console.log(\"Ошибка подключения к серверу\");\n      return Promise.reject(res.statusText);\n    }\n  }\n\n  _handleResponseError(err) {\n    console.log(\"Ошибка подключения к серверу\");\n    return Promise.reject(err.message);\n  }\n\n  getNewsCards() {\n    return fetch(`${this._url}g=${this._keyword}&from=2020-10-3&pageSize=${size}&apiKey=${apiKey}`).then(this._handleResponse).catch(this._handleResponseError);\n  } // getUserInfo() {\n  //     return fetch(`${this._url}/users/me`, { headers: this._headers })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // setUserInfo(newUserInfo) {\n  //     return fetch(`${this._url}/users/me`, {\n  //         method: 'PATCH',\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             name: `${newUserInfo.name}`,\n  //             about: `${newUserInfo.about}`\n  //         })\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // setNewCard(newCard) {\n  //     return fetch(`${this._url}/cards`, {\n  //         method: 'POST',\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             name: `${newCard.name}`,\n  //             link: `${newCard.link}`\n  //         })\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // deleteCard(id) {\n  //     return fetch(`${this._url}/cards/${id}`, {\n  //         method: 'DELETE',\n  //         headers: this._headers\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // setLike(id) {\n  //     return fetch(`${this._url}/cards/likes/${id}`, {\n  //         method: 'PUT',\n  //         headers: this._headers\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // delLike(id) {\n  //     return fetch(`${this._url}/cards/likes/${id}`, {\n  //         method: 'DELETE',\n  //         headers: this._headers\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // setAvatar(avatar) {\n  //     return fetch(`${this._url}/users/me/avatar`, {\n  //         method: 'PATCH',\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             avatar: `${avatar.avatar}`\n  //         })\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n\n\n}\n\nexport default NewsApi;","map":{"version":3,"sources":["/Users/volkovilya/dev/diploma-frontend/src/utils/NewsApi.js"],"names":["NewsApi","constructor","url","keyword","size","apiKey","_url","_keyword","_size","_apiKey","_handleResponse","res","ok","json","console","log","Promise","reject","statusText","_handleResponseError","err","message","getNewsCards","fetch","then","catch"],"mappings":"AACA;AAEA,MAAMA,OAAN,CAAc;AACZC,EAAAA,WAAW,CAAEC,GAAF,EAAOC,OAAP,EAAgBC,IAAhB,EAAsBC,MAAtB,EAA8B;AACvC,SAAKC,IAAL,GAAYJ,GAAZ,CADuC,CAEvC;;AACA,SAAKK,QAAL,GAAgBJ,OAAhB,CAHuC,CAIvC;;AACA,SAAKK,KAAL,GAAaJ,IAAb;AACA,SAAKK,OAAL,GAAeJ,MAAf;AACD;;AAEDK,EAAAA,eAAe,CAACC,GAAD,EAAM;AACnB,QAAIA,GAAG,CAACC,EAAR,EAAY;AACV,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,KAFD,MAEO;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeN,GAAG,CAACO,UAAnB,CAAP;AACD;AACF;;AAEDC,EAAAA,oBAAoB,CAACC,GAAD,EAAM;AACxBN,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeG,GAAG,CAACC,OAAnB,CAAP;AACD;;AAEDC,EAAAA,YAAY,GAAG;AACb,WAAOC,KAAK,CAAE,GAAE,KAAKjB,IAAK,KAAI,KAAKC,QAAS,4BAA2BH,IAAK,WAAUC,MAAO,EAAjF,CAAL,CACJmB,IADI,CACC,KAAKd,eADN,EAEJe,KAFI,CAEE,KAAKN,oBAFP,CAAP;AAGD,GA5BW,CA8BZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAjGY;;AAoGd,eAAenB,OAAf","sourcesContent":["\n// import { url, update, size, apiKey, headers } from \"./Utils.js\";\n\nclass NewsApi {\n  constructor( url, keyword, size, apiKey) {\n    this._url = url;\n    // this._headers = headers;\n    this._keyword = keyword;\n    // this._update = update;\n    this._size = size;\n    this._apiKey = apiKey;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      console.log(\"Ошибка подключения к серверу\");\n      return Promise.reject(res.statusText);\n    }\n  }\n\n  _handleResponseError(err) {\n    console.log(\"Ошибка подключения к серверу\");\n    return Promise.reject(err.message);\n  }\n\n  getNewsCards() {\n    return fetch(`${this._url}g=${this._keyword}&from=2020-10-3&pageSize=${size}&apiKey=${apiKey}`)\n      .then(this._handleResponse)\n      .catch(this._handleResponseError);\n  }\n\n  // getUserInfo() {\n  //     return fetch(`${this._url}/users/me`, { headers: this._headers })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // setUserInfo(newUserInfo) {\n  //     return fetch(`${this._url}/users/me`, {\n  //         method: 'PATCH',\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             name: `${newUserInfo.name}`,\n  //             about: `${newUserInfo.about}`\n  //         })\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n  // setNewCard(newCard) {\n  //     return fetch(`${this._url}/cards`, {\n  //         method: 'POST',\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             name: `${newCard.name}`,\n  //             link: `${newCard.link}`\n  //         })\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n\n  // }\n  // deleteCard(id) {\n  //     return fetch(`${this._url}/cards/${id}`, {\n  //         method: 'DELETE',\n  //         headers: this._headers\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n\n  // setLike(id) {\n  //     return fetch(`${this._url}/cards/likes/${id}`, {\n  //         method: 'PUT',\n  //         headers: this._headers\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n\n  // delLike(id) {\n  //     return fetch(`${this._url}/cards/likes/${id}`, {\n  //         method: 'DELETE',\n  //         headers: this._headers\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n\n  // setAvatar(avatar) {\n  //     return fetch(`${this._url}/users/me/avatar`, {\n  //         method: 'PATCH',\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             avatar: `${avatar.avatar}`\n  //         })\n  //     })\n  //         .then(this._handleResponse)\n  //         .catch(this._handleResponseError)\n  // }\n}\n\nexport default NewsApi;\n"]},"metadata":{},"sourceType":"module"}